{"ast":null,"code":"var _jsxFileName = \"/home/bbollen23/rta-application/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './css/app.css';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Navbar from './components/navbar';\nimport ChangeCampusMenu from './components/changeCampusMenu';\nimport Home from './components/pages/home';\nimport Login from './components/pages/loginPage';\nimport GradePage from './components/pages/gradePage';\nimport ScholarPage from './components/pages/scholarPage';\nimport IconBreadcrumbs from './components/breadCrumb';\nimport Typography from '@material-ui/core/Typography';\nimport TutorsPage from './components/pages/tutorsPage';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Loading from './components/loading';\n\nfunction App() {\n  const [view, setView] = useState(\"login\");\n  const [authenticatedUser, setAuthenticatedUser] = useState(null);\n  const [userMetadata, setUserMetadata] = useState(null);\n  const {\n    user,\n    isAuthenticated,\n    isLoading,\n    loginWithRedirect,\n    getAccessTokenWithPopup\n  } = useAuth0(); // useEffect(() => {\n  //   //Needs to check that the user is not null before making call.\n  //   if(authenticatedUser){\n  //     const getUserMetadata = async () => {\n  //       const domain = \"tutoryard.auth0.com\";\n  //       try {\n  //         const accessToken = await getAccessTokenWithPopup({\n  //           audience: `https://${domain}/api/v2/`,\n  //           scope: \"read:current_user\",\n  //         });\n  //         console.log(user);\n  //         const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n  //         const metadataResponse = await fetch(userDetailsByIdUrl, {\n  //           headers: {\n  //             Authorization: `Bearer ${accessToken}`,\n  //           },\n  //         });\n  //         const { app_metadata } = await metadataResponse.json();\n  //         setUserMetadata(app_metadata);\n  //         console.log(app_metadata);\n  //       } catch (e) {\n  //         console.log(e.message);\n  //       }\n  //     };\n  //     getUserMetadata();\n  //   }\n  // }, [authenticatedUser]);\n\n  const viewRender = view => {\n    switch (view) {\n      case \"home\":\n        {\n          return /*#__PURE__*/React.createElement(Home, {\n            setView: setView,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 11\n            }\n          });\n        }\n\n      case \"grade\":\n        {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              gridRowStart: 2\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(GradePage, {\n            setView: setView,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 41\n            }\n          }));\n        }\n\n      case \"scholar\":\n        {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              gridRowStart: 2\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(ScholarPage, {\n            setView: setView,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 41\n            }\n          }));\n        }\n\n      default:\n        {\n          return /*#__PURE__*/React.createElement(Home, {\n            setView: setView,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 11\n            }\n          });\n        }\n    }\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"100vh\",\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (isAuthenticated) {\n    console.log('rendered');\n\n    if (!userMetadata) {\n      //If there is currently no authenticated user, set the new user. When this is set, we automatically call\n      // setAuthenticatedUser(user);\n      const getUserMetadata = async () => {\n        const domain = \"tutoryard.auth0.com\";\n\n        try {\n          const accessToken = await getAccessTokenWithPopup({\n            audience: `https://${domain}/api/v2/`,\n            scope: \"read:current_user\"\n          });\n          console.log(user);\n          const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n          const metadataResponse = await fetch(userDetailsByIdUrl, {\n            headers: {\n              Authorization: `Bearer ${accessToken}`\n            }\n          });\n          const {\n            app_metadata\n          } = await metadataResponse.json();\n          setUserMetadata(app_metadata);\n          console.log(app_metadata);\n        } catch (e) {\n          console.log(e.message);\n        }\n      };\n\n      getUserMetadata();\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"AppContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"side-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      setView: setView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        alignSelf: 'center',\n        position: 'relative',\n        display: 'flex',\n        justifyContent: 'center',\n        marginBottom: '40px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: 200,\n      h: true,\n      src: \"/Logo-Leman-Academy-web-1.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, \"TutorYard\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ChangeCampusMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NotificationsIcon, {\n      style: {\n        color: 'white',\n        fontSize: '30pt'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(AccountCircleIcon, {\n      style: {\n        color: 'white',\n        fontSize: '30pt'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateRows: \"60px auto\",\n        gridTemplateColumns: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        gridRowStart: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        marginLeft: '20px',\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconBreadcrumbs, {\n      setView: setView,\n      view: view,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    })), viewRender(view)));\n  } else {\n    loginWithRedirect();\n  }\n}\n\nexport default App; // {/* <div className=\"header-card\">\n// <div className=\"title\">\n//   Grades\n// </div>\n// </div>\n// {/* <RadarChart/> */}\n// <div className=\"card\">\n// <div style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>\n//   <div className=\"title\">5th Grade</div>\n//   <div className=\"numberOfStudents\">\n//     <PeopleIcon style={{fontSize:'20pt'}}/>\n//     <div className=\"number\">24</div>\n//   </div>          \n// </div>\n// <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'}}>\n//   {/* <StackedBarChart id=\"1\"/> */}\n//   <PercentageCircle percentage={0.72} id=\"1\"/>\n// </div>\n// </div>\n// <div className=\"card\">\n// <div style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>\n//   <div className=\"title\">6th Grade</div>\n//   <div className=\"numberOfStudents\">\n//     <PeopleIcon style={{fontSize:'20pt'}}/>\n//     <div className=\"number\">24</div>\n//   </div>\n// </div>\n// <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'}}>\n//   {/* <StackedBarChart id=\"2\"/> */}\n//   <PercentageCircle percentage={0.81} id=\"2\"/>\n// </div>\n// </div>\n// <div className=\"card\">\n// <div style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>\n//   <div className=\"title\">7th Grade</div>\n//   <div className=\"numberOfStudents\">\n//     <PeopleIcon style={{fontSize:'20pt'}}/>\n//     <div className=\"number\">18</div>\n//   </div>          \n// </div>\n// <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'}}>\n//   {/* <StackedBarChart id=\"3\"/> */}\n//   <PercentageCircle percentage={0.65} id=\"3\"/>\n// </div>\n// </div>\n// <div className=\"card\">\n// <div style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>\n//   <div className=\"title\">8th Grade</div>\n//   <div className=\"numberOfStudents\">\n//     <PeopleIcon style={{fontSize:'20pt'}}/>\n//     <div className=\"number\">12</div>\n//   </div>          \n// </div>\n// <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'}}>\n//   {/* <StackedBarChart id=\"4\"/> */}\n//   <PercentageCircle percentage={0.79} id=\"4\"/>\n// </div>\n// </div> */}","map":{"version":3,"sources":["/home/bbollen23/rta-application/src/App.js"],"names":["React","useState","useEffect","AccountCircleIcon","NotificationsIcon","makeStyles","Navbar","ChangeCampusMenu","Home","Login","GradePage","ScholarPage","IconBreadcrumbs","Typography","TutorsPage","useAuth0","Loading","App","view","setView","authenticatedUser","setAuthenticatedUser","userMetadata","setUserMetadata","user","isAuthenticated","isLoading","loginWithRedirect","getAccessTokenWithPopup","viewRender","gridRowStart","width","height","display","justifyContent","alignItems","console","log","getUserMetadata","domain","accessToken","audience","scope","userDetailsByIdUrl","sub","metadataResponse","fetch","headers","Authorization","app_metadata","json","e","message","alignSelf","position","marginBottom","color","fontSize","gridTemplateRows","gridTemplateColumns","flexDirection","marginLeft","marginTop"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport './css/app.css';\n\n\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\n\nimport { makeStyles} from '@material-ui/core/styles';\nimport Navbar from './components/navbar';\nimport ChangeCampusMenu from './components/changeCampusMenu';\nimport Home from './components/pages/home';\nimport Login from './components/pages/loginPage';\nimport GradePage from './components/pages/gradePage';\nimport ScholarPage from './components/pages/scholarPage';\nimport IconBreadcrumbs from './components/breadCrumb';\n\nimport Typography from '@material-ui/core/Typography';\nimport TutorsPage from './components/pages/tutorsPage';\n\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Loading from './components/loading';\n\nfunction App() {\n\n  const [view, setView] = useState(\"login\")\n  const [authenticatedUser, setAuthenticatedUser] = useState(null);\n  const [userMetadata,setUserMetadata] = useState(null);\n\n  const {user, isAuthenticated, isLoading, loginWithRedirect, getAccessTokenWithPopup} = useAuth0();\n\n\n\n\n  // useEffect(() => {\n\n  //   //Needs to check that the user is not null before making call.\n  //   if(authenticatedUser){\n  //     const getUserMetadata = async () => {\n  //       const domain = \"tutoryard.auth0.com\";\n    \n  //       try {\n  //         const accessToken = await getAccessTokenWithPopup({\n  //           audience: `https://${domain}/api/v2/`,\n  //           scope: \"read:current_user\",\n  //         });\n  //         console.log(user);\n  //         const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n    \n  //         const metadataResponse = await fetch(userDetailsByIdUrl, {\n  //           headers: {\n  //             Authorization: `Bearer ${accessToken}`,\n  //           },\n  //         });\n    \n  //         const { app_metadata } = await metadataResponse.json();\n    \n  //         setUserMetadata(app_metadata);\n  //         console.log(app_metadata);\n  //       } catch (e) {\n  //         console.log(e.message);\n  //       }\n  //     };\n  //     getUserMetadata();\n  //   }\n  // }, [authenticatedUser]);\n\n\n\n\n  const viewRender = view => {\n    switch(view){\n      case \"home\":{\n        return(\n          <Home setView={setView}/>\n        )\n      }\n      case \"grade\":{\n        return(\n          <div style={{gridRowStart:2}}><GradePage setView={setView}/></div>\n        )\n      }\n      case \"scholar\":{\n        return(\n          <div style={{gridRowStart:2}}><ScholarPage setView={setView}/></div>\n        )\n      }\n      default:{\n        return(\n          <Home setView={setView}/>\n        )\n      }\n    }\n  }\n\n  if(isLoading){\n    return(\n      <div style={{width:\"100%\",height:\"100vh\",display:'flex',justifyContent:'center',alignItems:'center'}}>\n        <Loading/>\n      </div>\n    )\n  }\n\n  if(isAuthenticated){\n\n    console.log('rendered');\n\n    if(!userMetadata){\n      //If there is currently no authenticated user, set the new user. When this is set, we automatically call\n      // setAuthenticatedUser(user);\n      const getUserMetadata = async () => {\n        const domain = \"tutoryard.auth0.com\";\n    \n        try {\n          const accessToken = await getAccessTokenWithPopup({\n            audience: `https://${domain}/api/v2/`,\n            scope: \"read:current_user\",\n          });\n          console.log(user);\n          const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n    \n          const metadataResponse = await fetch(userDetailsByIdUrl, {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          });\n    \n          const { app_metadata } = await metadataResponse.json();\n    \n          setUserMetadata(app_metadata);\n          console.log(app_metadata);\n        } catch (e) {\n          console.log(e.message);\n        }\n      };\n      getUserMetadata();\n    }\n\n    return (\n      <div id=\"AppContainer\">\n        <div className=\"side-bar\">\n          <Navbar setView={setView}/>\n          <div style={{alignSelf:'center',position:'relative',display:'flex',justifyContent:'center',marginBottom:'40px'}}>\n            <img width={200} h src=\"/Logo-Leman-Academy-web-1.png\"/>\n          </div>\n        </div>\n        <div className=\"header\">\n          <div className=\"logo\">\n            TutorYard\n          </div>\n          <div className=\"header-menu\">\n            <ChangeCampusMenu/>\n            {/* <LoginButton/> */}\n            <div>\n              <NotificationsIcon style={{color:'white',fontSize:'30pt'}}/>          \n              <AccountCircleIcon style={{color:'white',fontSize:'30pt'}}/>\n            </div>\n          </div>\n        </div>\n        <div style={{display:'grid',gridTemplateRows:\"60px auto\",gridTemplateColumns:'auto'}}>\n          <div style={{gridRowStart:1,display:'flex',flexDirection:'column',justifyContent:'center',marginLeft:'20px',marginTop:'20px'}}>\n            {/* Hello miss */}\n            <IconBreadcrumbs setView={setView} view={view}/>\n          </div>\n          {viewRender(view)}\n        </div>\n      </div>\n    )\n  } else {\n      loginWithRedirect();\n  }\n}\n\nexport default App;\n\n\n\n\n\n// {/* <div className=\"header-card\">\n// <div className=\"title\">\n//   Grades\n// </div>\n// </div>\n// {/* <RadarChart/> */}\n// <div className=\"card\">\n// <div style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>\n//   <div className=\"title\">5th Grade</div>\n//   <div className=\"numberOfStudents\">\n//     <PeopleIcon style={{fontSize:'20pt'}}/>\n//     <div className=\"number\">24</div>\n//   </div>          \n// </div>\n// <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'}}>\n//   {/* <StackedBarChart id=\"1\"/> */}\n//   <PercentageCircle percentage={0.72} id=\"1\"/>\n// </div>\n// </div>\n// <div className=\"card\">\n// <div style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>\n//   <div className=\"title\">6th Grade</div>\n//   <div className=\"numberOfStudents\">\n//     <PeopleIcon style={{fontSize:'20pt'}}/>\n//     <div className=\"number\">24</div>\n//   </div>\n// </div>\n// <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'}}>\n//   {/* <StackedBarChart id=\"2\"/> */}\n//   <PercentageCircle percentage={0.81} id=\"2\"/>\n// </div>\n// </div>\n// <div className=\"card\">\n// <div style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>\n//   <div className=\"title\">7th Grade</div>\n//   <div className=\"numberOfStudents\">\n//     <PeopleIcon style={{fontSize:'20pt'}}/>\n//     <div className=\"number\">18</div>\n//   </div>          \n// </div>\n// <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'}}>\n//   {/* <StackedBarChart id=\"3\"/> */}\n//   <PercentageCircle percentage={0.65} id=\"3\"/>\n// </div>\n// </div>\n// <div className=\"card\">\n// <div style={{display:'flex',flexDirection:'row',justifyContent:'space-between'}}>\n//   <div className=\"title\">8th Grade</div>\n//   <div className=\"numberOfStudents\">\n//     <PeopleIcon style={{fontSize:'20pt'}}/>\n//     <div className=\"number\">12</div>\n//   </div>          \n// </div>\n// <div style={{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'center'}}>\n//   {/* <StackedBarChart id=\"4\"/> */}\n//   <PercentageCircle percentage={0.79} id=\"4\"/>\n// </div>\n// </div> */}"]},"metadata":{},"sourceType":"module"}