{"ast":null,"code":"var _jsxFileName = \"/home/bbollen23/rta-application/src/components/weaknessTimeline.js\";\nimport React, { useState, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport wrap from '../utility/wordWrap';\nimport useWindowDimensions from '../utility/windowDimensions';\n\nconst WeaknessTimeline = props => {\n  const svgId = \"weaknessTimeline-\" + props.id;\n  const margin = {\n    top: 20,\n    right: 10,\n    bottom: 20,\n    left: 0\n  };\n  const [viewWidth, viewHeight] = useWindowDimensions(); // const width = viewWidth*0.88 - margin.left - margin.right;\n\n  const width = viewWidth * 0.88 - 40 - 200;\n  const height = viewHeight * 0.35 - margin.top - margin.bottom;\n  const chartMargin = {\n    top: 10,\n    right: 40,\n    bottom: 50,\n    left: 150\n  }; //The margin that tells us how far the actual axes and physical chart is moved from the boundary, to leave space fore labels and such\n\n  const chartWidth = width - chartMargin.right - chartMargin.left;\n  const chartHeight = height - chartMargin.top - chartMargin.bottom;\n\n  const renderChart = () => {\n    //Need to consider that weaknesses can come back and with that we have multiple x1 and x2 values.\n    var data = [{\n      label: 'Multiplication Tables',\n      x1: 4,\n      x2: 8\n    }, {\n      label: 'Adding Fractions',\n      x1: 1,\n      x2: 3\n    }, {\n      label: 'GCF',\n      x1: 2,\n      x2: 9\n    }, {\n      label: 'LCM',\n      x1: 1,\n      x2: 6\n    }, {\n      label: 'Remainders',\n      x1: 7,\n      x2: 12\n    }, {\n      label: 'Exponents',\n      x1: 6,\n      x2: 11\n    }];\n    var dotData = [];\n    data.forEach(entry => {\n      dotData.push([entry.x1, entry.x2]);\n    });\n    var weaknesses = data.map(d => d.label); // var yScale = d3.scaleLinear().domain([0,data.length-1]).range([chartHeight,0]);\n\n    var xScale = d3.scaleLinear().domain([1, 12]).range([0, chartWidth]);\n    var yScale = d3.scaleBand().domain(weaknesses).rangeRound([chartHeight, 0]).padding(0.4);\n    var svg = d3.select(\"#\" + svgId).attr('transform', 'translate(' + margin.left + ',0)');\n    var xAxis = svg.append(\"g\").attr('class', 'x-axis').attr('stroke', 'none').attr('transform', 'translate(' + (margin.left + chartMargin.left) + ',' + (margin.top + chartMargin.top + chartHeight) + ')').call(d3.axisBottom(xScale).tickFormat(d => {\n      return \"Day \" + d;\n    }));\n    var yAxis = svg.append(\"g\").attr('class', 'y-axis-none').attr('stroke', 'none').attr('transform', 'translate(' + (margin.left + chartMargin.left) + ',' + (margin.top + chartMargin.top) + ')').call(d3.axisLeft(yScale)).selectAll(\".tick text\").call(wrap, 150);\n\n    function make_x_gridlines() {\n      return d3.axisBottom(xScale).ticks(12);\n    } // gridlines in y axis function\n\n\n    function make_y_gridlines() {\n      return d3.axisLeft(yScale).ticks(5);\n    }\n\n    svg.append(\"g\").attr(\"class\", \"weakness-grid\").attr(\"transform\", \"translate(\" + (margin.left + chartMargin.left) + \", \" + (chartHeight + margin.top + chartMargin.top) + \")\").call(make_x_gridlines().tickSize(-chartHeight).tickFormat(\"\")); // svg.append(\"g\")\t\t\t\n    //   .attr(\"class\", \"weakness-grid\")\n    //   .attr(\"transform\",'translate(' + (margin.left+chartMargin.left) + ',' + (margin.top+chartMargin.top) + ')')\n    //   .call(make_y_gridlines()\n    //       .tickSize(-width)\n    //       .tickFormat(\"\")\n    //   )\n\n    var lines = svg.selectAll('.weakness-line').data(data);\n    lines.enter().append('rect').attr('class', 'weakness-line').attr('rx', 7).attr('ry', 7).attr('y', d => yScale(d.label) + margin.top + chartMargin.top).attr('height', yScale.bandwidth()).attr('x', d => margin.left + chartMargin.left).transition().duration(750).attr('x', d => xScale(d.x1) + margin.left + chartMargin.left).attr('width', d => xScale(d.x2 - d.x1 + 1)); // .attr('stroke-width',1)\n    // .attr('stroke','black')\n    // var dotGroups = svg.selectAll('.dot-group').data(dotData);\n    // dotGroups.enter().append('g')\n    //   .attr('transform',(d,i)=> {return 'translate(0,' + (yScale(data[i].label)+margin.top+chartMargin.top) + ')'})\n    //   .attr('class','dot-group')\n    // .selectAll('.dot')\n    //   .data(d=>d)\n    //   .enter()\n    //   .append('circle')\n    //   .attr('class','dot')\n    //   .attr('cx',d=>xScale(d)+margin.left+chartMargin.left)\n    //   .attr('cy',2)\n    //   .attr('r',5)\n    //   .attr('fill','red');\n    // .data(d=>d).enter().append('circle').attr('class','dot').attr('x',xScale(d=>d)+margin.left+chartMargin.left).attr('y',0).attr('r',3);\n    // dots.enter().append('circle').app\n  };\n\n  useEffect(() => {\n    renderChart();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    id: svgId,\n    width: width,\n    height: height,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 10\n    }\n  });\n};\n\nexport default WeaknessTimeline;","map":{"version":3,"sources":["/home/bbollen23/rta-application/src/components/weaknessTimeline.js"],"names":["React","useState","useEffect","d3","wrap","useWindowDimensions","WeaknessTimeline","props","svgId","id","margin","top","right","bottom","left","viewWidth","viewHeight","width","height","chartMargin","chartWidth","chartHeight","renderChart","data","label","x1","x2","dotData","forEach","entry","push","weaknesses","map","d","xScale","scaleLinear","domain","range","yScale","scaleBand","rangeRound","padding","svg","select","attr","xAxis","append","call","axisBottom","tickFormat","yAxis","axisLeft","selectAll","make_x_gridlines","ticks","make_y_gridlines","tickSize","lines","enter","bandwidth","transition","duration"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport * as d3 from 'd3';\nimport wrap from '../utility/wordWrap';\n\nimport useWindowDimensions from '../utility/windowDimensions';\n\nconst WeaknessTimeline = props => {\n  const svgId = \"weaknessTimeline-\" + props.id;\n  const margin = {top: 20, right: 10, bottom: 20, left: 0};\n\n  const [viewWidth, viewHeight] = useWindowDimensions();\n\n  // const width = viewWidth*0.88 - margin.left - margin.right;\n  const width = viewWidth*0.88 - 40 - 200;\n  const height = viewHeight*0.35 - margin.top - margin.bottom;\n\n  const chartMargin = {top:10,right:40,bottom:50,left:150} //The margin that tells us how far the actual axes and physical chart is moved from the boundary, to leave space fore labels and such\n  const chartWidth = width - chartMargin.right - chartMargin.left;\n  const chartHeight = height - chartMargin.top - chartMargin.bottom;\n\n  const renderChart = () => {\n\n    //Need to consider that weaknesses can come back and with that we have multiple x1 and x2 values.\n\n\n    var data = [{label:'Multiplication Tables',x1:4,x2:8},{label:'Adding Fractions',x1:1,x2:3},{label:'GCF',x1:2,x2:9},{label:'LCM',x1:1,x2:6},{label:'Remainders',x1:7,x2:12},{label:'Exponents',x1:6,x2:11}]\n\n    var dotData = [];\n\n    data.forEach(entry=>{\n      dotData.push([entry.x1,entry.x2]);\n    })\n\n\n    var weaknesses = data.map(d=>d.label);\n    // var yScale = d3.scaleLinear().domain([0,data.length-1]).range([chartHeight,0]);\n    var xScale = d3.scaleLinear().domain([1,12]).range([0,chartWidth]);\n    var yScale = d3.scaleBand().domain(weaknesses).rangeRound([chartHeight,0]).padding(0.4)\n\n    var svg = d3.select(\"#\" + svgId).attr('transform','translate('+ (margin.left) +',0)');\n\n    var xAxis = svg.append(\"g\")\n      .attr('class','x-axis')\n      .attr('stroke','none')\n      .attr('transform','translate(' + (margin.left + chartMargin.left) + ',' + (margin.top + chartMargin.top + chartHeight)+')')\n      .call(d3.axisBottom(xScale).tickFormat(d=>\n        { return \"Day \" + d }\n      ));\n\n    var yAxis = svg.append(\"g\")\n      .attr('class','y-axis-none')\n      .attr('stroke','none')\n      .attr('transform','translate(' + (margin.left + chartMargin.left) + ',' +  (margin.top + chartMargin.top) +')')\n      .call(d3.axisLeft(yScale))\n    .selectAll(\".tick text\")\n      .call(wrap,150);\n\n\n    function make_x_gridlines() {\t\t\n      return d3.axisBottom(xScale)\n        .ticks(12)\n    }\n    \n    // gridlines in y axis function\n    function make_y_gridlines() {\t\t\n      return d3.axisLeft(yScale)\n        .ticks(5)\n    }\n\n    svg.append(\"g\")\t\t\t\n      .attr(\"class\", \"weakness-grid\")\n      .attr(\"transform\", \"translate(\" + (margin.left+chartMargin.left) + \", \" + (chartHeight+margin.top+chartMargin.top) + \")\")\n      .call(make_x_gridlines()\n          .tickSize(-chartHeight)\n          .tickFormat(\"\")\n      )\n\n    // svg.append(\"g\")\t\t\t\n    //   .attr(\"class\", \"weakness-grid\")\n    //   .attr(\"transform\",'translate(' + (margin.left+chartMargin.left) + ',' + (margin.top+chartMargin.top) + ')')\n    //   .call(make_y_gridlines()\n    //       .tickSize(-width)\n    //       .tickFormat(\"\")\n    //   )\n\n\n\n    var lines = svg.selectAll('.weakness-line').data(data);\n\n    lines.enter()\n      .append('rect')\n      .attr('class','weakness-line')\n      .attr('rx',7)\n      .attr('ry',7)\n      .attr('y',d=>(yScale(d.label)+margin.top+chartMargin.top))\n      .attr('height',yScale.bandwidth())\n      .attr('x',d=>(margin.left + chartMargin.left) )\n    .transition()\n      .duration(750)\n        .attr('x',d=>(xScale(d.x1)+ margin.left + chartMargin.left) )\n        .attr('width',d=>(xScale(d.x2 - d.x1+1)) )\n      // .attr('stroke-width',1)\n      // .attr('stroke','black')\n\n    // var dotGroups = svg.selectAll('.dot-group').data(dotData);\n    \n    // dotGroups.enter().append('g')\n    //   .attr('transform',(d,i)=> {return 'translate(0,' + (yScale(data[i].label)+margin.top+chartMargin.top) + ')'})\n    //   .attr('class','dot-group')\n    // .selectAll('.dot')\n    //   .data(d=>d)\n    //   .enter()\n    //   .append('circle')\n    //   .attr('class','dot')\n    //   .attr('cx',d=>xScale(d)+margin.left+chartMargin.left)\n    //   .attr('cy',2)\n    //   .attr('r',5)\n    //   .attr('fill','red');\n    \n    // .data(d=>d).enter().append('circle').attr('class','dot').attr('x',xScale(d=>d)+margin.left+chartMargin.left).attr('y',0).attr('r',3);\n\n    // dots.enter().append('circle').app\n\n\n  }\n\n  useEffect(()=>{\n    renderChart();\n  },[])\n\n  return(<svg id={svgId} width={width} height={height}></svg>)\n}\n\nexport default WeaknessTimeline;\n"]},"metadata":{},"sourceType":"module"}